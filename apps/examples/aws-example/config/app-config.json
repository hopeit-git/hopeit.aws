{
  "app": {
    "name": "aws-example",
    "version": "${HOPEIT_APPS_API_VERSION}"
  },
  "plugins": [],
  "engine": {
    "import_modules": [
      "aws_example"
    ],
    "read_stream_timeout": 1000,
    "read_stream_interval": 1000,
    "cors_origin": "*"
  },
  "env": {
    "storage": {
      "base_path": "/tmp/hopeit/"
    },
    "upload_something": {
      "save_path": "{env.storage.base_path}/{auto}/",
      "chunk_size": 16384
    }
  },
  "settings": {
    "storage.save_events_fs": {
      "path": "{env.storage.base_path}/{auto}",
      "partition_dateformat": "%Y/%m/%d/%H/",
      "flush_seconds": 60.0,
      "flush_max_size": 100
    },
    "object_store": {
      "bucket": "hopeit-store",
      "partition_dateformat": "%Y/%m/%d/%H/",
      "connection": {
        "endpoint_url": "${OBJECT_STORAGE_ENDPOINT_URL}",
        "aws_access_key_id": "${OBJECT_STORAGE_ACCESS_KEY_ID}",
        "aws_secret_access_key": "${OBJECT_STORAGE_SECRET_ACCESS_KEY}",
        "use_ssl": "${OBJECT_STORAGE_SSL}"
      }
    }
  },
  "events": {
    "save_something": {
      "type": "POST",
      "setting_keys": [
        "object_store"
      ]
    },
    "query_something": {
      "type": "POST",
      "setting_keys": [
        "object_store"
      ]
    },
    "list_objects": {
      "type": "GET",
      "setting_keys": [
        "object_store"
      ]
    },
    "list_files": {
      "type": "GET",
      "setting_keys": [
        "object_store"
      ]
    },
    "download_something": {
      "type": "GET",
      "setting_keys": [
        "object_store"
      ]
    },
    "upload_download_file": {
      "type": "GET",
      "setting_keys": [
        "object_store"
      ]
    },
    "streamed_upload_file": {
      "type": "MULTIPART",
      "setting_keys": [
        "object_store"
      ]
    },
    "streamed_download_file": {
      "type": "GET",
      "setting_keys": [
        "object_store"
      ]
    }
  }
}